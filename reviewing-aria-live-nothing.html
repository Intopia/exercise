<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Reviewing injected content without aria-live</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="shortcut icon" href="favicon.ico">
  <link href="assets/css/testing.css" rel="stylesheet">
  <style>
    #message.info > p {
      padding: 1em;
      margin: 0;
      outline: 2px solid rgba(0,0,255,1);
      background: rgba(0,0,255,.1);
    }
  </style>
</head>
<body>

<a class="intopia-home-link" href="https://intopia.digital/" aria-label="Intopia website home">
  <img src="https://intopia.digital/wp-content/themes/intopia-refresh/assets/images/intopia.png" alt="Intopia" class="intopia-logo">
</a>

<h1>Reviewing injected content without <code>aria-live</code></h1>
<p>The container below has been not been set with any <a href="https://www.w3.org/TR/wai-aria-1.2/#aria-live" target="_blank"><code>aria-live</code></a> value.</p>
<ul>
  <li><b>Action</b>: After 8 seconds, a message will be injected into the container below. Focus will be sent to the message container.</li>
  <li><b>Result</b>: The injected content should be announce as it has received focus.</li>
</ul>


<h2>Example</h2>


<div class="example">
  <div id="message" class="info"></div>
</div>


<p>If a screen reader is focused on announcing this paragraph, will the dynamically injected message above affect the announcement of this paragraph? This is how we can determine whether dynamic information is announced immediately, at the next graceful opportunity, or not at all.</p>


<script>
    // Function to inject a new paragraph into the element with id "message"
    function injectParagraph() {
        // Find the element with the id "message"
        var messageElement = document.getElementById("message");

        // Create a new paragraph element
        var newParagraph = document.createElement("p");

        // Set the text content of the new paragraph
        newParagraph.textContent = "This is an error notification";

        // Append the new paragraph to the message element
        messageElement.appendChild(newParagraph);

        // Set focus to the new paragraph element
        newParagraph.setAttribute('tabindex', '-1'); // Make it focusable
        newParagraph.focus();
    }

    // Set a timeout to execute the function after 8 seconds (8000 milliseconds)
    setTimeout(injectParagraph, 8000);
</script>


<h2>Assistive technologies</h2>
<div class="note">
  <h3>VoiceOver</h3>
  <ul class="browser-list">
    <li><b>Chrome:</b><br>
      When reading: <span class="green">Message announced immediately</span>.<br>
      When silent: <span class="green">Message announced immediately</span>.
    </li>
    <li><b>Firefox:</b><br>
      When reading: <span class="green">Message announced immediately</span>.<br>
      When silent: <span class="green">Message announced immediately</span>.
    </li>
    <li><b>Safari:</b><br>
      When reading: <span class="green">Message announced immediately</span>.<br>
      When silent: <span class="green">Message announced immediately</span>.
    </li>
  </ul>
</div>
<div class="note">
  <h3>NVDA</h3>
  <ul class="browser-list">
    <li><b>Chrome:</b><br>
      When reading: <span class="green">Announces message immediately</span>.<br>
      When silent: <span class="green">Announces message immediately</span>.
    </li>
    <li><b>Firefox:</b><br>
      When reading: <span class="green">Announces message immediately</span>.<br>
      When silent: <span class="green">Announces message immediately</span>.
    </li>
    <li><b>Edge:</b><br>
      When reading: <span class="green">Announces message immediately</span>.<br>
      When silent: <span class="green">Announces message immediately</span>.
    </li>
  </ul>
</div>


<p class="footer-link"><a href="testing.html">Testing home</a></p>
</body>
</html>
